<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <title>Diário de tarefas</title>
  </head>

  <body style="background-color: #F0EDE6">
    <div class="d-flex justify-content-center">
      <a href="#">
        <img
          src="img/logo.jpeg"
          alt="Kanba app logo"
          style="height: 250px; width: 250px"
        />
      </a>
    </div>

    <div
      class="d-flex justify-content-center align-items-center"
      style="height: 50vh"
    >
      <form
        action="/editarCadastro"
        method="post"
        class="col-md-6 col-lg-4 d-flex flex-wrap justify-content-between"
        onsubmit="return validatePasswords()"
      >
        <div id="error-message" class="alert alert-danger" style="display: none; width: 100%;">As senhas não coincidem. Por favor, tente novamente.</div>
        <div class="form-group">
          <label for="exampleInputEmail1">Editar email</label>
          <input
            type="email"
            name="email"
            class="form-control"
            id="exampleInputEmail1"
            aria-describedby="emailHelp"
            placeholder="Digite seu email"
            th:value="${emailCadastrado}"
          />
          <small id="emailHelp" class="form-text text-muted"
            >Nunca compatilharemos seu email.</small
          >
        </div>
        <div class="form-group">
          <label for="exampleInputUsername1">Editar nome de usuário</label>
          <input
            type="text"
            name="username"
            class="form-control"
            id="exampleInputUsername1"
            placeholder="Nome de usuário"
            th:value="${username}"
            pattern="[^ ]*"
          />
        </div>
        <div class="form-group">
          <label for="exampleInputBirthdate1">Editar data de nascimento</label>
          <input
            type="date"
            name="birthdate"
            class="form-control"
            id="exampleInputBirthdate1"
            placeholder="Data de nascimento"
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Editar senha</label>
          <input
            type="password"
            name="password"
            class="form-control"
            id="exampleInputPassword1"
            placeholder="Senha"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPassword2">Confirme sua nova senha</label>
          <input
            type="password"
            name="confirm_password"
            class="form-control"
            id="exampleInputPassword2"
            placeholder="Senha"
            required
          />
        </div>
        <div class="form-group">
          <label for="exampleInputPhone">Editar telefone</label>
          <input
            type="tel"
            name="phone"
            class="form-control"
            id="exampleInputPhone"
            placeholder="Telefone"
          />
        </div>
        <button
          name="cadastro"
          type="submit"
          class="btn btn-primary"
          value="usuarioDesejaCadastro"
        >
          Avançar
        </button>
      </form>
    </div>

    <script>
      function validatePasswords() {
        var password = document.getElementById("exampleInputPassword1").value;
        var confirmPassword = document.getElementById("exampleInputPassword2").value;
        var errorMessage = document.getElementById("error-message");
        if (password !== confirmPassword) {
          errorMessage.style.display = "block";
          return false;
        }
        errorMessage.style.display = "none";
        return true;
      }
    </script>
  </body>
</html>